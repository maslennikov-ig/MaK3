# Дорожная карта разработки MaK CRM (2025)

## Введение

Данная дорожная карта представляет собой детальный план разработки и внедрения CRM-системы MaK CRM в соответствии с техническим заданием. План разделен на этапы, каждый из которых содержит конкретные задачи, сроки, ответственных и ожидаемые результаты.

## Общая информация

- **Формат работы**: проект разрабатывается индивидуально (код пишет AI-ассистент, без команды)
- **Общая продолжительность проекта**: 8-10 месяцев
- **Методология разработки**: Agile (Scrum) с двухнедельными спринтами
- **Ключевые вехи**:
  - MVP (Минимально жизнеспособный продукт): 4-5 месяцев
  - Бета-версия: 6-7 месяцев
  - Релиз: 8-10 месяцев

## Этап 0: Подготовка и планирование (2 недели)

### Задачи
- **Настройка инфраструктуры разработки**
  - Создание репозитория (GitHub)
  - Настройка CI/CD пайплайнов
  - Настройка окружения разработки
- **Детализация требований**
  - Уточнение пользовательских сценариев
  - Создание детальных спецификаций API
- **Разработка архитектуры**
  - Финализация технической архитектуры
  - Определение структуры базы данных
  - Проектирование API и интеграций

### Результаты
- Настроенная инфраструктура разработки
- Детализированные требования и спецификации
- Утвержденная архитектура системы

## Этап 1: Базовая CRM (8 недель)

### Спринт 1: Ядро системы (2 недели)
- **Разработка ядра системы**
  - Создание базовой структуры проекта (Frontend, Backend)
  - Настройка базовых компонентов (роутинг, авторизация, логирование)
  - Создание скелета API
- **Настройка базы данных**
  - Создание схемы базы данных
  - Миграции для основных сущностей
  - Настройка ORM и репозиториев
- **Настройка инфраструктуры**
  - Развертывание базовой инфраструктуры в облаке
  - Настройка Kubernetes кластера
  - Настройка CI/CD для автоматического деплоя

### Спринт 2: Система ролей и прав (2 недели)
- **Разработка системы ролей**
  - Реализация RBAC (Role-Based Access Control)
  - Создание базовых ролей (Администратор, Менеджер, Партнер)
  - Интерфейс управления ролями и правами
- **Аутентификация и авторизация**
  - Реализация JWT аутентификации
  - Интеграция с OAuth 2.0 провайдерами
  - Настройка middleware для проверки прав
- **Тестирование безопасности**
  - Написание тестов для проверки прав доступа
  - Аудит безопасности аутентификации
  - Настройка логирования действий пользователей

### Спринт 3: Клиенты и лиды (2 недели)
- **Разработка модуля "Клиенты и лиды"**
  - Создание моделей данных для клиентов и лидов
  - Реализация API для CRUD операций
  - Разработка интерфейса для управления клиентами
- **Импорт/экспорт клиентов**
  - Реализация импорта из Excel
  - Реализация экспорта в различные форматы
  - Валидация данных при импорте
- **Сегментация клиентов**
  - Реализация фильтров и поиска
  - Создание и управление сегментами
  - Интерфейс для работы с сегментами

### Спринт 4: Сделки и воронки (2 недели)
- **Разработка модуля "Сделки и воронки"**
  - Создание моделей данных для сделок и воронок
  - Реализация API для управления сделками
  - Разработка интерфейса канбан-доски
- **Drag&Drop функциональность**
  - Интеграция dnd-kit для канбан-доски
  - Реализация перетаскивания сделок между этапами
  - Обработка событий перетаскивания на бэкенде
- **Inline-редактирование**
  - Реализация редактирования данных сделки в таблице
  - Валидация данных при редактировании
  - Сохранение изменений в реальном времени

## Этап 2: Интеграции (4 недели)

### Спринт 5: Интеграция с AmoCRM (2 недели)
- **Анализ API AmoCRM**
  - Изучение документации API
  - Определение сценариев интеграции
  - Маппинг полей между системами
- **Разработка двусторонней синхронизации**
  - Реализация импорта данных из AmoCRM
  - Реализация экспорта данных в AmoCRM
  - Обработка конфликтов при синхронизации
- **Настройка и тестирование**
  - Создание интерфейса настройки интеграции
  - Написание тестов для проверки синхронизации
  - Мониторинг процесса синхронизации

### Спринт 6: Telegram-бот и API (2 недели)
- **Разработка Telegram-бота**
  - Создание базовой структуры бота
  - Реализация команд для работы с клиентами и сделками
  - Настройка уведомлений о событиях
- **Разработка API для внешних интеграций**
  - Создание документации API (Swagger/OpenAPI)
  - Реализация эндпоинтов для внешних систем
  - Настройка авторизации и ограничений доступа
- **Тестирование и оптимизация**
  - Нагрузочное тестирование API
  - Оптимизация запросов
  - Настройка кэширования

## Этап 3: Каталог компонентов (2 недели)

### Спринт 7: Каталог компонентов (2 недели)
- **Разработка архитектуры для компонентов**
  - Создание интерфейсов для плагинов
  - Реализация механизма загрузки компонентов
  - Настройка системы зависимостей
- **Создание базовых компонентов**
  - Разработка компонента "Отчеты"
  - Разработка компонента "Дашборды"
  - Разработка компонента "Интеграции"
- **Управление компонентами**
  - Создание интерфейса для управления компонентами
  - Реализация включения/отключения компонентов
  - Настройка прав доступа к компонентам

## Этап 4: UI/UX (4 недели)

### Спринт 8: Базовый UI/UX (2 недели)
- **Разработка базовых компонентов интерфейса**
  - Создание компонентов на основе Mantine
  - Настройка темизации (светлая/темная тема)
  - Реализация адаптивного дизайна
- **Реализация трехколоночного интерфейса**
  - Разработка левой колонки (информация о клиенте/сделке)
  - Разработка центральной колонки (история взаимодействия)
  - Разработка правой колонки (панель автоматизаций)
- **Оптимизация производительности**
  - Настройка кэширования компонентов
  - Оптимизация рендеринга списков
  - Профилирование и устранение узких мест

### Спринт 9: Расширенный UI/UX (2 недели)
- **Реализация drag&drop и inline-редактирования**
  - Интеграция с TanStack Table для таблиц
  - Настройка inline-редактирования в таблицах
  - Реализация drag&drop для различных компонентов
- **Кастомизация интерфейса**
  - Реализация настроек интерфейса пользователем
  - Сохранение и загрузка пользовательских настроек
  - Настройка видимости блоков и колонок
- **Финальная полировка UI/UX**
  - Улучшение анимаций и переходов
  - Оптимизация для мобильных устройств
  - Тестирование юзабилити

## Этап 5: Безопасность (2 недели)

### Спринт 10: Безопасность (2 недели)
- **Внедрение двухфакторной аутентификации**
  - Реализация 2FA через SMS, email, Telegram
  - Создание интерфейса настройки 2FA
  - Тестирование различных сценариев аутентификации
- **Интеграция с сервисами авторизации**
  - Интеграция с Госуслуги, VK ID, Сбер ID
  - Настройка OAuth 2.0 для внешних сервисов
  - Тестирование различных провайдеров
- **Аудит безопасности**
  - Проведение пентеста
  - Сканирование уязвимостей
  - Исправление выявленных проблем
- **Соответствие ФЗ-152**
  - Аудит обработки персональных данных
  - Настройка шифрования данных
  - Документирование процессов обработки ПД

## Этап 6: Документация и API (2 недели)

### Спринт 11: Документация и API (2 недели)
- **Разработка документации API**
  - Создание Swagger/OpenAPI спецификации
  - Генерация документации API
  - Создание примеров использования API
- **Создание руководств пользователя**
  - Написание руководств для разных ролей
  - Создание обучающих видео
  - Разработка системы подсказок в интерфейсе
- **Техническая документация**
  - Документирование архитектуры
  - Создание руководств по развертыванию
  - Документирование процессов разработки и поддержки
- **Обучающие материалы**
  - Создание обучающих курсов для пользователей
  - Разработка интерактивных туров по системе
  - Подготовка материалов для тренингов

## Этап 7: Подготовка к расширению (2 недели)

### Спринт 12: Подготовка к расширению (2 недели)
- **Разработка best practice**
  - Создание гайдлайнов по разработке
  - Документирование архитектурных решений
  - Подготовка шаблонов для новых компонентов
- **Создание гайдлайнов для разработки модулей**
  - Документирование API для разработки модулей
  - Создание примеров модулей
  - Разработка инструментов для тестирования модулей
- **Подготовка инфраструктуры**
  - Оптимизация инфраструктуры для масштабирования
  - Настройка мониторинга и алертинга
  - Автоматизация процессов деплоя и обновления
- **Финальное тестирование**
  - Проведение нагрузочного тестирования
  - Тестирование отказоустойчивости
  - Исправление выявленных проблем

## Этап 8: Бета-тестирование и доработка (4 недели)

### Спринт 13-14: Бета-тестирование и доработка (4 недели)
- **Развертывание бета-версии**
  - Подготовка инфраструктуры для бета-тестирования
  - Миграция тестовых данных
  - Настройка мониторинга и сбора обратной связи
- **Бета-тестирование с реальными пользователями**
  - Привлечение пилотных пользователей
  - Сбор и анализ обратной связи
  - Приоритизация доработок
- **Исправление ошибок и доработка функциональности**
  - Исправление выявленных ошибок
  - Доработка функциональности по обратной связи
  - Оптимизация производительности
- **Подготовка к релизу**
  - Финальное тестирование
  - Подготовка релизных заметок
  - Планирование релиза и миграции

## Этап 9: Релиз и поддержка (2 недели + постоянно)

### Спринт 15: Релиз (2 недели)
- **Развертывание продакшн-версии**
  - Настройка продакшн-инфраструктуры
  - Миграция данных
  - Настройка мониторинга и алертинга
- **Обучение пользователей**
  - Проведение тренингов для администраторов
  - Проведение вебинаров для пользователей
  - Подготовка обучающих материалов
- **Запуск в эксплуатацию**
  - Поэтапный запуск для разных групп пользователей
  - Мониторинг производительности и стабильности
  - Оперативное реагирование на проблемы

### Постоянная поддержка и развитие
- **Техническая поддержка**
  - Реагирование на инциденты
  - Исправление ошибок
  - Консультирование пользователей
- **Развитие функциональности**
  - Сбор и анализ требований
  - Планирование новых функций
  - Разработка и внедрение улучшений
- **Оптимизация и масштабирование**
  - Мониторинг производительности
  - Оптимизация узких мест
  - Масштабирование инфраструктуры при необходимости

## Детальный план по спринтам

| Спринт | Даты | Основные задачи | Результаты |
|--------|------|-----------------|------------|
| 0 | Недели 1-2 | Подготовка и планирование | Команда, инфраструктура, требования, архитектура |
| 1 | Недели 3-4 | Ядро системы | Базовая структура проекта, БД, инфраструктура |
| 2 | Недели 5-6 | Система ролей и прав | RBAC, аутентификация, авторизация |
| 3 | Недели 7-8 | Клиенты и лиды | Модуль клиентов, импорт/экспорт, сегментация |
| 4 | Недели 9-10 | Сделки и воронки | Модуль сделок, канбан-доска, drag&drop |
| 5 | Недели 11-12 | Интеграция с AmoCRM | Двусторонняя синхронизация с AmoCRM |
| 6 | Недели 13-14 | Telegram-бот и API | Telegram-бот, API для внешних систем |
| 7 | Недели 15-16 | Каталог компонентов | Архитектура компонентов, базовые компоненты |
| 8 | Недели 17-18 | Базовый UI/UX | Компоненты интерфейса, трехколоночный интерфейс |
| 9 | Недели 19-20 | Расширенный UI/UX | Drag&drop, inline-редактирование, кастомизация |
| 10 | Недели 21-22 | Безопасность | 2FA, интеграции с сервисами авторизации, аудит |
| 11 | Недели 23-24 | Документация и API | Документация API, руководства, обучающие материалы |
| 12 | Недели 25-26 | Подготовка к расширению | Best practice, гайдлайны, оптимизация инфраструктуры |
| 13-14 | Недели 27-30 | Бета-тестирование | Бета-версия, тестирование, доработки |
| 15 | Недели 31-32 | Релиз | Продакшн-версия, обучение, запуск |
| 16+ | Недели 33+ | Поддержка и развитие | Техническая поддержка, новые функции, оптимизация |

## Ресурсы и команда

### Команда разработки
- **Product Owner**: 1 человек
- **Scrum Master**: 1 человек
- **Frontend-разработчики**: 2-3 человека
- **Backend-разработчики**: 2-3 человека
- **DevOps-инженеры**: 1-2 человека
- **QA-инженеры**: 1-2 человека
- **UX/UI-дизайнеры**: 1 человек
- **Технические писатели**: 1 человек (может быть частичная занятость)

### Инфраструктура
- **Разработка**: Kubernetes кластер, PostgreSQL, Redis, ElasticSearch
- **Тестирование**: Аналогично разработке, но с меньшими ресурсами
- **Продакшн**: Полноценный кластер с высокой доступностью и резервированием

### Инструменты
- **Управление проектом**: Jira/Trello
- **Репозитории**: GitLab/GitHub
- **CI/CD**: GitLab CI/Jenkins
- **Мониторинг**: Prometheus, Grafana
- **Логирование**: ELK Stack/Loki

## Риски и их митигация

| Риск | Вероятность | Влияние | Стратегия митигации |
|------|-------------|---------|---------------------|
| Изменение требований | Высокая | Среднее | Гибкая методология, регулярные демо, приоритизация требований |
| Технические сложности | Средняя | Высокое | Прототипирование сложных компонентов, привлечение экспертов |
| Проблемы с интеграциями | Высокая | Высокое | Раннее тестирование интеграций, создание моков для разработки |
| Нехватка ресурсов | Средняя | Высокое | Резервирование ресурсов, приоритизация задач, масштабирование команды |
| Проблемы с производительностью | Средняя | Высокое | Раннее нагрузочное тестирование, мониторинг, оптимизация |
| Проблемы с безопасностью | Низкая | Критическое | Регулярный аудит безопасности, следование лучшим практикам |

## Критерии успеха проекта

- **Функциональные критерии**:
  - Реализованы все ключевые функции из ТЗ
  - Система успешно интегрирована с AmoCRM и Telegram
  - Пользователи могут эффективно работать с клиентами и сделками
- **Технические критерии**:
  - Система стабильно работает под нагрузкой
  - Время отклика интерфейса не превышает 200мс
  - Обеспечена масштабируемость и отказоустойчивость
- **Бизнес-критерии**:
  - Повышение эффективности работы с клиентами
  - Улучшение конверсии и увеличение продаж
  - Снижение времени на рутинные операции

## Заключение

Данная дорожная карта представляет собой детальный план разработки CRM-системы MaK CRM. План учитывает все ключевые аспекты проекта: функциональность, технологии, ресурсы, риски и критерии успеха. Следование этому плану позволит создать современную, масштабируемую и удобную CRM-систему, соответствующую всем требованиям ТЗ.

План является живым документом и может корректироваться в процессе разработки в зависимости от обратной связи, изменений требований и других факторов.