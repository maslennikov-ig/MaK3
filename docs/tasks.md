# Задачи по разработке MaK CRM (2025)

## Правила работы с задачами

> - Отмечайте выполненные задачи как [x]
> - Запрашивайте одобрение пользователя перед началом следующей фазы
> - Указывайте измененные файлы рядом с задачей (в комментарии или подпункте)
> - Не отмечайте будущие задачи как выполненные, пока не получите явного запроса
> - Задачи сгруппированы по фазам разработки. Следуйте порядку
> - Используйте единообразное именование и структуру при добавлении новых задач
> - При необходимости добавляйте ссылки на документацию или ресурсы
> - Если задача заблокирована, четко укажите причину и зависимости
> - Проверяйте завершенные фазы на полноту перед переходом к следующей

## Фаза 0: Подготовка и планирование

### Планирование проекта
- [x] Финализировать ТЗ и требования
- [x] Определить приоритеты функций для MVP
- [x] Составить детальный график работы
- [x] Определить необходимые ресурсы и инструменты

### Настройка инфраструктуры разработки
- [ ] Создать репозиторий проекта в GitHub
- [ ] Настроить ветки (main, develop, feature)
- [ ] Настроить базовый CI/CD пайплайн
- [ ] Подготовить шаблоны для коммитов и PR
- [ ] Настроить линтеры и форматтеры кода

### Финализация архитектуры
- [ ] Уточнить техническую архитектуру системы
- [ ] Спроектировать структуру базы данных
- [ ] Создать ER-диаграммы
- [ ] Спроектировать API и интеграции
- [ ] Определить стратегию масштабирования

## Фаза 1: Базовая CRM

### Спринт 1: Ядро системы
- [ ] Создать базовую структуру Frontend проекта
  - [ ] Настроить React с Mantine
  - [ ] Настроить роутинг
  - [ ] Создать базовые компоненты
  - [ ] Настроить темизацию (светлая/темная тема)
- [ ] Создать базовую структуру Backend проекта
  - [ ] Настроить NestJS
  - [ ] Настроить подключение к БД
  - [ ] Настроить логирование
  - [ ] Создать скелет API
- [ ] Настроить базу данных
  - [ ] Создать схему PostgreSQL
  - [ ] Настроить миграции
  - [ ] Создать базовые сущности
  - [ ] Настроить ORM
- [ ] Настроить базовую инфраструктуру
  - [ ] Настроить Docker-compose для локальной разработки
  - [ ] Подготовить конфигурацию для PostgreSQL
  - [ ] Настроить Redis
  - [ ] Подготовить скрипты для бэкапов
- [ ] Актуализировать/создать документацию по итогам спринта
- [ ] Актуализировать/создать тесты по итогам спринта

### Спринт 2: Система ролей и прав
- [ ] Разработать систему ролей
  - [ ] Реализовать RBAC (Role-Based Access Control)
  - [ ] Создать базовые роли (Администратор, Менеджер, Партнер, Брокер)
  - [ ] Настроить наследование и ограничение прав
- [ ] Реализовать аутентификацию и авторизацию
  - [ ] Настроить JWT аутентификацию
  - [ ] Интегрировать с OAuth 2.0 провайдерами
  - [ ] Настроить middleware для проверки прав
- [ ] Создать интерфейс управления пользователями
  - [ ] Реализовать CRUD для пользователей
  - [ ] Создать интерфейс управления ролями
  - [ ] Реализовать назначение прав
- [ ] Настроить аудит действий пользователей
  - [ ] Реализовать логирование действий
  - [ ] Создать интерфейс просмотра логов
- [ ] Актуализировать/создать документацию по итогам спринта
- [ ] Актуализировать/создать тесты по итогам спринта

### Спринт 3: Клиенты и лиды
- [ ] Разработать модуль "Клиенты и лиды"
  - [ ] Создать модели данных для клиентов и лидов
  - [ ] Реализовать API для CRUD операций
  - [ ] Разработать интерфейс для управления клиентами
- [ ] Реализовать импорт/экспорт клиентов
  - [ ] Создать функционал импорта из Excel
  - [ ] Реализовать экспорт в различные форматы
  - [ ] Настроить валидацию данных при импорте
- [ ] Внедрить сегментацию клиентов
  - [ ] Реализовать фильтры и поиск
  - [ ] Создать функционал управления сегментами
  - [ ] Разработать интерфейс для работы с сегментами
- [ ] Реализовать управление статусами клиентов
  - [ ] Создать настраиваемые статусы
  - [ ] Разработать логику перехода между статусами
  - [ ] Создать интерфейс управления статусами
- [ ] Актуализировать/создать документацию по итогам спринта
- [ ] Актуализировать/создать тесты по итогам спринта

### Спринт 4: Сделки и воронки
- [ ] Разработать модуль "Сделки и воронки"
  - [ ] Создать модели данных для сделок и воронок
  - [ ] Реализовать API для управления сделками
  - [ ] Разработать интерфейс канбан-доски
- [ ] Внедрить Drag&Drop функциональность
- [ ] Актуализировать/создать документацию по итогам спринта
- [ ] Актуализировать/создать тесты по итогам спринта
  - [ ] Интегрировать dnd-kit для канбан-доски
  - [ ] Реализовать перетаскивание сделок между этапами
  - [ ] Настроить обработку событий перетаскивания
- [ ] Реализовать inline-редактирование
  - [ ] Интегрировать TanStack Table
  - [ ] Настроить редактирование данных в таблице
  - [ ] Реализовать валидацию при редактировании
- [ ] Создать трехколоночный интерфейс для работы со сделками
  - [ ] Разработать левую колонку (информация о сделке)
  - [ ] Создать центральную колонку (история взаимодействия)
  - [ ] Реализовать правую колонку (панель автоматизаций)

## Фаза 2: Интеграции

### Спринт 5: Интеграция с AmoCRM
- [ ] Провести анализ API AmoCRM
  - [ ] Изучить документацию API
  - [ ] Определить сценарии интеграции
  - [ ] Создать маппинг полей между системами
- [ ] Разработать двустороннюю синхронизацию
  - [ ] Реализовать импорт данных из AmoCRM
  - [ ] Настроить экспорт данных в AmoCRM
  - [ ] Разработать обработку конфликтов при синхронизации
- [ ] Создать интерфейс настройки интеграции
  - [ ] Разработать форму настройки подключения
  - [ ] Реализовать выбор синхронизируемых сущностей
  - [ ] Создать интерфейс мониторинга синхронизации
- [ ] Протестировать интеграцию
  - [ ] Написать автоматические тесты
  - [ ] Провести тестирование основных сценариев

### Спринт 6: Telegram-бот и API
- [ ] Разработать Telegram-бота
  - [ ] Создать базовую структуру бота
  - [ ] Реализовать команды для работы с клиентами
  - [ ] Настроить команды для работы со сделками
  - [ ] Внедрить систему уведомлений о событиях
- [ ] Разработать API для внешних интеграций
  - [ ] Создать документацию API (Swagger/OpenAPI)
  - [ ] Реализовать эндпоинты для внешних систем
  - [ ] Настроить авторизацию и ограничения доступа
- [ ] Реализовать доступ к личному кабинету партнера через бота
  - [ ] Создать авторизацию через Telegram
  - [ ] Разработать интерфейс для просмотра статистики
  - [ ] Реализовать базовые действия с лидами
- [ ] Оптимизировать API
  - [ ] Настроить кэширование
  - [ ] Оптимизировать запросы

## Фаза 3: Каталог компонентов

### Спринт 7: Каталог компонентов
- [ ] Разработать архитектуру для компонентов
  - [ ] Создать интерфейсы для плагинов
  - [ ] Реализовать механизм загрузки компонентов
  - [ ] Настроить систему зависимостей между компонентами
- [ ] Создать базовые компоненты
  - [ ] Разработать компонент "Отчеты"
  - [ ] Создать компонент "Дашборды"
  - [ ] Реализовать компонент "Интеграции"
- [ ] Разработать интерфейс управления компонентами
  - [ ] Создать страницу каталога компонентов
  - [ ] Реализовать включение/отключение компонентов
  - [ ] Настроить управление настройками компонентов
- [ ] Разработать API для компонентов
  - [ ] Создать документацию API для разработки компонентов
  - [ ] Реализовать эндпоинты для взаимодействия с компонентами
  - [ ] Настроить права доступа к компонентам

## Фаза 4: UI/UX

### Спринт 8: Базовый UI/UX
- [ ] Разработать базовые компоненты интерфейса
  - [ ] Создать компоненты на основе Mantine
  - [ ] Настроить темизацию (светлая/темная тема)
  - [ ] Реализовать адаптивный дизайн
- [ ] Реализовать трехколоночный интерфейс
  - [ ] Доработать левую колонку (информация о клиенте/сделке)
  - [ ] Улучшить центральную колонку (история взаимодействия)
  - [ ] Расширить правую колонку (панель автоматизаций)
- [ ] Оптимизировать производительность
  - [ ] Настроить кэширование компонентов
  - [ ] Оптимизировать рендеринг списков
  - [ ] Провести профилирование и устранить узкие места

### Спринт 9: Расширенный UI/UX
- [ ] Усовершенствовать drag&drop и inline-редактирование
  - [ ] Улучшить интеграцию с TanStack Table
  - [ ] Расширить возможности inline-редактирования
  - [ ] Оптимизировать drag&drop для различных компонентов
- [ ] Реализовать кастомизацию интерфейса
  - [ ] Создать настройки интерфейса пользователем
  - [ ] Разработать сохранение и загрузку пользовательских настроек
  - [ ] Внедрить настройку видимости блоков и колонок
- [ ] Выполнить финальную полировку UI/UX
  - [ ] Улучшить анимации и переходы
  - [ ] Оптимизировать интерфейс для мобильных устройств
  - [ ] Провести тестирование юзабилити

## Фаза 5: Безопасность

### Спринт 10: Безопасность
- [ ] Внедрить двухфакторную аутентификацию
  - [ ] Реализовать 2FA через SMS
  - [ ] Настроить 2FA через email
  - [ ] Добавить 2FA через Telegram
  - [ ] Создать интерфейс настройки 2FA
- [ ] Интегрировать с сервисами авторизации
  - [ ] Настроить интеграцию с Госуслуги
  - [ ] Реализовать интеграцию с VK ID
  - [ ] Добавить интеграцию с Сбер ID
  - [ ] Настроить OAuth 2.0 для внешних сервисов
- [ ] Обеспечить соответствие ФЗ-152
  - [ ] Провести аудит обработки персональных данных
  - [ ] Настроить шифрование данных
  - [ ] Документировать процессы обработки ПД

## Фаза 6: Документация и API

### Спринт 11: Документация и API
- [ ] Разработать документацию API
  - [ ] Создать Swagger/OpenAPI спецификацию
  - [ ] Сгенерировать документацию API
  - [ ] Подготовить примеры использования API
- [ ] Создать руководства пользователя
  - [ ] Написать руководства для разных ролей
  - [ ] Создать обучающие видео
  - [ ] Разработать систему подсказок в интерфейсе
- [ ] Подготовить техническую документацию
  - [ ] Документировать архитектуру
  - [ ] Создать руководства по развертыванию
  - [ ] Описать процессы разработки и поддержки

## Фаза 7: Подготовка к расширению

### Спринт 12: Подготовка к расширению
- [ ] Разработать best practice
  - [ ] Создать гайдлайны по разработке
  - [ ] Документировать архитектурные решения
  - [ ] Подготовить шаблоны для новых компонентов
- [ ] Создать гайдлайны для разработки модулей
  - [ ] Документировать API для разработки модулей
  - [ ] Создать примеры модулей
  - [ ] Разработать инструменты для тестирования модулей
- [ ] Подготовить инфраструктуру для деплоя
  - [ ] Настроить Docker-compose для продакшн
  - [ ] Подготовить скрипты для автоматического развертывания
  - [ ] Настроить мониторинг и алертинг

## Фаза 8: Тестирование и доработка

### Спринт 13-14: Тестирование
- [ ] Провести тестирование MVP
  - [ ] Протестировать основные функции
  - [ ] Проверить интеграции
  - [ ] Выполнить нагрузочное тестирование
- [ ] Исправить ошибки и доработать функциональность
  - [ ] Исправить выявленные ошибки
  - [ ] Оптимизировать производительность
  - [ ] Улучшить UX на основе тестирования
- [ ] Подготовиться к релизу
  - [ ] Провести финальное тестирование
  - [ ] Подготовить релизные заметки
  - [ ] Спланировать релиз

## Фаза 9: Релиз и поддержка

### Спринт 15: Релиз
- [ ] Развернуть продакшн-версию
  - [ ] Настроить продакшн-окружение
  - [ ] Подготовить базу данных
  - [ ] Настроить мониторинг
- [ ] Подготовить обучающие материалы
  - [ ] Создать руководство пользователя
  - [ ] Подготовить FAQ
  - [ ] Разработать обучающие видео
- [ ] Запустить в эксплуатацию
  - [ ] Выполнить поэтапный запуск
  - [ ] Мониторить производительность
  - [ ] Оперативно реагировать на проблемы

### Поддержка и развитие
- [ ] Обеспечить техническую поддержку
  - [ ] Исправлять ошибки
  - [ ] Улучшать производительность
  - [ ] Обновлять зависимости
- [ ] Развивать функциональность
  - [ ] Собирать обратную связь
  - [ ] Планировать новые функции
  - [ ] Внедрять улучшения