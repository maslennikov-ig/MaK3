# Структура проекта MaK3 CRM

> **Рекомендации:**
> - Всегда сначала ищем готовую, поддерживаемую библиотеку или компонент, а не пишем с нуля.
> - Предпочитаем использовать самые новые, но стабильные версии библиотек, компонентов и модулей.
> - Если возникает проблема с зависимостями, и нет возможности обновить до последних стабильных версий — отказываемся от проблемного модуля и ищем современную альтернативу, а не фиксируем старую зависимость.
> - Для фронтенда используйте разделение компонентов на презентационные и контейнерные, а также хуки для повторно используемой логики.
> - Для бэкенда придерживайтесь принципов SOLID и выделяйте отдельные модули под каждую функциональную область.

## Введение

Данный документ описывает структуру проекта MaK3 CRM, включая организацию файлов и директорий как для frontend (Next.js), так и для backend (NestJS). Структура спроектирована с учетом модульности, масштабируемости и удобства разработки.

## Варианты организации структуры проекта

### Feature-based (по функционалу)
- Примеры: auth, users, dashboard, analytics
- Каждая фича — своя директория с компонентами, хуками, сервисами
- Подходит для небольших и средних проектов

### Domain-based (по бизнес-доменам)
- Примеры: client, partner, order, payment
- Каждая доменная область — отдельная директория
- Хорошо для крупных проектов
- Может быть сложно определить границы доменов
- Требует хорошего понимания бизнес-процессов

## Рекомендуемая структура для MaK3 CRM

Для проекта MaK3 CRM рекомендуется использовать **гибридный подход**, сочетающий элементы feature-based и domain-based структур:

### Frontend (Next.js с App Router)
- src/
  - features/ (фичи)
  - entities/ (бизнес-сущности)
  - shared/ (общие компоненты, хуки, утилиты)
  - pages/ (роуты)
  - app/ (точка входа, layout, _app.tsx)

### Backend (NestJS)
- src/
  - modules/ (фичи и домены)
  - common/ (общие утилиты, декораторы, guards)
  - prisma/ (работа с БД)
  - main.ts (точка входа)

## Пример структуры

```
MaK3/
├── frontend/
│   ├── src/
│   │   ├── features/
│   │   ├── entities/
│   │   ├── shared/
│   │   └── pages/
│   ├── app/
│   └── ...
├── backend/
│   ├── src/
│   │   ├── modules/
│   │   ├── common/
│   │   ├── prisma/
│   │   └── main.ts
│   └── ...
├── docs/
├── .github/
└── docker-compose.yml
```

## Рекомендации по масштабированию
- Используйте feature/domain-based подход для роста проекта
- Разделяйте слои приложения (UI, бизнес-логика, инфраструктура)
- Пишите повторно используемые хуки и сервисы
- Для сложных сценариев используйте CQRS, Event Sourcing, микросервисы
